<template>
    <lightning-card title="SendSign Configuration" icon-name="custom:custom63">
        <div class="slds-p-around_medium">
            <lightning-input
                type="url"
                label="SendSign API URL"
                value={apiUrl}
                onchange={handleApiUrlChange}
                placeholder="https://sendsign.yourcompany.com"
                required
            ></lightning-input>

            <lightning-input
                type="password"
                label="API Key"
                value={apiKey}
                onchange={handleApiKeyChange}
                placeholder="Your SendSign API key"
                required
                class="slds-m-top_small"
            ></lightning-input>

            <lightning-input
                type="text"
                label="Default Template ID"
                value={defaultTemplate}
                onchange={handleTemplateChange}
                placeholder="Optional: UUID of default template"
                class="slds-m-top_small"
            ></lightning-input>

            <div class="slds-m-top_medium">
                <lightning-button
                    label="Test Connection"
                    variant="neutral"
                    onclick={handleTestConnection}
                    disabled={isTesting}
                    class="slds-m-right_small"
                ></lightning-button>

                <lightning-button
                    label="Save Settings"
                    variant="brand"
                    onclick={handleSave}
                    disabled={isSaving}
                ></lightning-button>
            </div>

            <template if:true={connectionResult}>
                <div class={connectionResultClass}>
                    <lightning-icon
                        icon-name={connectionIcon}
                        size="x-small"
                        class="slds-m-right_x-small"
                    ></lightning-icon>
                    {connectionMessage}
                </div>
            </template>

            <template if:true={saveMessage}>
                <div class="slds-box slds-theme_success slds-m-top_small">
                    {saveMessage}
                </div>
            </template>
        </div>

        <!-- Info section -->
        <div slot="footer" class="slds-text-body_small">
            <p>Configure your SendSign API connection. You'll need:</p>
            <ul class="slds-list_dotted">
                <li>A running SendSign instance URL</li>
                <li>An API key (generate one in SendSign admin panel)</li>
            </ul>
        </div>
    </lightning-card>
</template>
